{% load static %}
{% load socialaccount %}

<div class="modal-content">
    <div class="modal-header">
        <h5 class="modal-title">Login</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
    </div>
    <div class="modal-body">
        <form method="post" action="{% url 'accounts:login' %}" class="login-form">
            {% csrf_token %}
            {% if form.errors %}
            <div class="alert alert-danger">
                {% for field in form %}
                {% for error in field.errors %}
                {{ error }}
                {% endfor %}
                {% endfor %}
                {% for error in form.non_field_errors %}
                {{ error }}
                {% endfor %}
            </div>
            {% endif %}
            <div class="mb-3">
                <label for="username" class="form-label">Email</label>
                <input type="email" name="username" class="form-control" id="username" required>
            </div>
            <div class="mb-3">
                <label for="password" class="form-label">Password</label>
                <input type="password" name="password" class="form-control" id="password" required>
            </div>
            <div class="mb-3 form-check">
                <input type="checkbox" name="remember" class="form-check-input" id="remember">
                <label class="form-check-label" for="remember">Remember me</label>
            </div>
            <button type="submit" class="btn btn-primary w-100">Login</button>
        </form>

        <div class="social-login mt-4">
            <p class="text-center mb-3">Or login with</p>
            <div class="d-flex justify-content-center gap-3">
                <a href="{% provider_login_url 'google' %}"
                    class="btn btn-outline-dark d-flex align-items-center justify-content-center gap-2">
                    <img src="{% static 'img/google-icon.svg' %}" alt="Google" width="20" height="20">
                    Google
                </a>
                <a href="{% provider_login_url 'facebook' %}"
                    class="btn btn-outline-primary d-flex align-items-center justify-content-center gap-2">
                    <i class="fab fa-facebook-f"></i>
                    Facebook
                </a>
            </div>
        </div>
    </div>
    <div class="modal-footer justify-content-center">
        <p class="mb-0">Don't have an account? <a href="#" class="register-link">Register</a></p>
    </div>
</div>

<style>
    .modal-content {
        border-radius: var(--button-radius);
        border: none;
    }

    .modal-header {
        border-bottom: 1px solid rgba(12, 26, 50, 0.1);
        padding: 1.5rem;
    }

    .modal-body {
        padding: 1.5rem;
    }

    .modal-footer {
        border-top: 1px solid rgba(12, 26, 50, 0.1);
        padding: 1.5rem;
    }

    .form-control {
        border-radius: var(--button-radius);
        border: 1px solid rgba(12, 26, 50, 0.1);
        padding: 0.75rem;
    }

    .form-control:focus {
        border-color: var(--button-bg);
        box-shadow: 0 0 0 0.2rem rgba(15, 29, 53, 0.25);
    }

    .register-link {
        color: var(--button-bg);
        text-decoration: none;
    }

    .register-link:hover {
        text-decoration: underline;
    }

    .social-login .btn {
        padding: 0.5rem 1.5rem;
        border-radius: var(--button-radius);
        min-width: 140px;
    }
</style>